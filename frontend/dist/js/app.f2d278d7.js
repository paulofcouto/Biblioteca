(function(){"use strict";var o={119:function(o,r,a){var t=a(751),e=a(641);const i={id:"app"};function s(o,r,a,t,s,l){const n=(0,e.g2)("MenuSuperior"),u=(0,e.g2)("router-view");return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.bF)(n),(0,e.bF)(u)])}var l=a.p+"img/logo.9a921d55.png";const n=o=>((0,e.Qi)("data-v-1c69dc69"),o=o(),(0,e.jt)(),o),u={class:"menu-superior"},d=n((()=>(0,e.Lk)("div",{class:"logo"},[(0,e.Lk)("img",{src:l,alt:"Logo"})],-1))),c={class:"menu-links"};function m(o,r){const a=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("nav",u,[d,(0,e.Lk)("div",c,[(0,e.bF)(a,{to:"/",exact:""},{default:(0,e.k6)((()=>[(0,e.eW)("Livros")])),_:1}),(0,e.bF)(a,{to:"/usuarios"},{default:(0,e.k6)((()=>[(0,e.eW)("Usuários")])),_:1}),(0,e.bF)(a,{to:"/emprestimos"},{default:(0,e.k6)((()=>[(0,e.eW)("Empréstimos")])),_:1})])])}var v=a(262);const p={},L=(0,v.A)(p,[["render",m],["__scopeId","data-v-1c69dc69"]]);var b=L,k={name:"App",components:{MenuSuperior:b}};const h=(0,v.A)(k,[["render",s]]);var f=h,y=a(166),E=a(33);const A=(0,e.Lk)("h1",null,"Lista de Livros",-1),g={class:"conteudo-tabela"},U=(0,e.Lk)("thead",{class:"cabecalho-tabela"},[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Título"),(0,e.Lk)("th",null,"Autor"),(0,e.Lk)("th",null,"ISBN"),(0,e.Lk)("th",null,"Ano de Publicação"),(0,e.Lk)("th",null,"Ações")])],-1),C=["onClick"],w={key:0,class:"modal"},M={class:"conteudo-modal"},T=(0,e.Lk)("h2",null,"Cadastrar Livro",-1),O=(0,e.Lk)("label",{for:"titulo"},"Título:",-1),P=(0,e.Lk)("label",{for:"autor"},"Autor:",-1),_=(0,e.Lk)("label",{for:"isbn"},"ISBN:",-1),X=(0,e.Lk)("label",{for:"anoDePublicacao"},"Ano de Publicação:",-1),D=(0,e.Lk)("button",{type:"submit"},"Cadastrar",-1);function S(o,r,a,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[A,(0,e.Lk)("div",g,[(0,e.Lk)("table",null,[U,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.livros,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.titulo),1),(0,e.Lk)("td",null,(0,E.v_)(o.autor),1),(0,e.Lk)("td",null,(0,E.v_)(o.isbn),1),(0,e.Lk)("td",null,(0,E.v_)(o.anoDePublicacao),1),(0,e.Lk)("td",null,[(0,e.Lk)("button",{onClick:r=>l.deletarLivro(o.id)},"Deletar",8,C)])])))),128))])])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:r[0]||(r[0]=(...o)=>l.abrirModal&&l.abrirModal(...o))},"+"),s.modalAberta?((0,e.uX)(),(0,e.CE)("div",w,[(0,e.Lk)("div",M,[(0,e.Lk)("span",{class:"close",onClick:r[1]||(r[1]=(...o)=>l.fecharModal&&l.fecharModal(...o))},"×"),T,(0,e.Lk)("form",{onSubmit:r[6]||(r[6]=(0,t.D$)(((...o)=>l.cadastrarLivro&&l.cadastrarLivro(...o)),["prevent"]))},[(0,e.Lk)("div",null,[O,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=o=>s.novoLivro.titulo=o),required:""},null,512),[[t.Jo,s.novoLivro.titulo]])]),(0,e.Lk)("div",null,[P,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=o=>s.novoLivro.autor=o),required:""},null,512),[[t.Jo,s.novoLivro.autor]])]),(0,e.Lk)("div",null,[_,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=o=>s.novoLivro.isbn=o),required:""},null,512),[[t.Jo,s.novoLivro.isbn]])]),(0,e.Lk)("div",null,[X,(0,e.bo)((0,e.Lk)("input",{type:"number","onUpdate:modelValue":r[5]||(r[5]=o=>s.novoLivro.anoDePublicacao=o),required:""},null,512),[[t.Jo,s.novoLivro.anoDePublicacao]])]),D],32)])])):(0,e.Q3)("",!0)])}var F=a(335);const q=F.A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},withCredentials:!0});var x=q,j={obterTodos(o=""){return x.get("/livros"+(o?`?query=${o}`:""))},obterPorId(o){return x.get(`/livros/${o}`)},cadastrar(o){return x.post("/livros",o)},deletar(o){return x.delete(`/livros/${o}`)}},J={data(){return{livros:[],modalAberta:!1,novoLivro:{titulo:"",autor:"",isbn:"",anoDePublicacao:0}}},async mounted(){await this.carregarLivros()},methods:{async carregarLivros(){try{const o=await j.obterTodos();o.data&&Array.isArray(o.data.result)?this.livros=o.data.result.filter((o=>o&&o.id)):console.error("Formato de dados inesperado:",o.data)}catch(o){console.error("Erro ao carregar livros:",o)}},async deletarLivro(o){try{await j.deletar(o),await this.carregarLivros()}catch(r){console.error("Erro ao deletar livro:",r)}},abrirModal(){this.modalAberta=!0},fecharModal(){this.modalAberta=!1},async cadastrarLivro(){try{await j.cadastrar(this.novoLivro),this.fecharModal(),this.novoLivro={titulo:"",autor:"",isbn:"",anoDePublicacao:0},await this.carregarLivros()}catch(o){console.error("Erro ao cadastrar livro:",o)}}}};const V=(0,v.A)(J,[["render",S]]);var I=V;const $=(0,e.Lk)("h1",null,"Lista de Usuários",-1),N={class:"conteudo-tabela"},Q=(0,e.Lk)("thead",{class:"cabecalho-tabela"},[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Nome"),(0,e.Lk)("th",null,"Email")])],-1),W={key:0,class:"modal"},K={class:"conteudo-modal"},B=(0,e.Lk)("h2",null,"Cadastrar Usuário",-1),H={class:"campo-cadastro"},R=(0,e.Lk)("label",{for:"nome"},"Nome:",-1),G={class:"campo-cadastro"},z=(0,e.Lk)("label",{for:"email"},"Email:",-1),Y=(0,e.Lk)("button",{class:"botao-padrao",type:"submit"},"Cadastrar",-1);function Z(o,r,a,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[$,(0,e.Lk)("div",N,[(0,e.Lk)("table",null,[Q,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.usuarios,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.nome),1),(0,e.Lk)("td",null,(0,E.v_)(o.email),1)])))),128))])])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:r[0]||(r[0]=(...o)=>l.abrirModalUsuario&&l.abrirModalUsuario(...o))},"+"),s.modalUsuarioAberta?((0,e.uX)(),(0,e.CE)("div",W,[(0,e.Lk)("div",K,[(0,e.Lk)("span",{class:"close",onClick:r[1]||(r[1]=(...o)=>l.fecharModalUsuario&&l.fecharModalUsuario(...o))},"×"),B,(0,e.Lk)("form",{onSubmit:r[4]||(r[4]=(0,t.D$)(((...o)=>l.cadastrarUsuario&&l.cadastrarUsuario(...o)),["prevent"]))},[(0,e.Lk)("div",H,[R,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=o=>s.novoUsuario.nome=o),required:""},null,512),[[t.Jo,s.novoUsuario.nome]])]),(0,e.Lk)("div",G,[z,(0,e.bo)((0,e.Lk)("input",{type:"email","onUpdate:modelValue":r[3]||(r[3]=o=>s.novoUsuario.email=o),required:""},null,512),[[t.Jo,s.novoUsuario.email]])]),Y],32)])])):(0,e.Q3)("",!0)])}const oo="http://localhost:5000/api/usuarios",ro={obterTodos(){return F.A.get(oo)},cadastrar(o){return F.A.post(oo,o)}};var ao=ro,to={data(){return{usuarios:[],modalUsuarioAberta:!1,novoUsuario:{nome:"",email:""}}},async mounted(){await this.carregarUsuarios()},methods:{async carregarUsuarios(){try{const o=await ao.obterTodos();o.data&&Array.isArray(o.data)?this.usuarios=o.data.filter((o=>o&&o.id)):console.error("Formato de dados inesperado:",o.data)}catch(o){console.error("Erro ao carregar usuários:",o)}},abrirModalUsuario(){this.modalUsuarioAberta=!0},fecharModalUsuario(){this.modalUsuarioAberta=!1},async cadastrarUsuario(){try{await ao.cadastrar(this.novoUsuario),this.fecharModalUsuario(),this.novoUsuario={nome:"",email:""},await this.carregarUsuarios()}catch(o){console.error("Erro ao cadastrar usuário:",o)}}}};const eo=(0,v.A)(to,[["render",Z]]);var io=eo;const so=(0,e.Lk)("h1",null,"Empréstimos",-1),lo=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Livro"),(0,e.Lk)("th",null,"Usuário"),(0,e.Lk)("th",null,"Data de Empréstimo"),(0,e.Lk)("th",null,"Ações")])],-1),no=["onClick"],uo={key:0,class:"modal"},co={class:"conteudo-modal"},mo=(0,e.Lk)("h2",null,"Cadastrar Empréstimo",-1),vo={class:"campo-cadastro"},po=(0,e.Lk)("label",{for:"livro"},"Livro:",-1),Lo={class:"campo-cadastro"},bo=(0,e.Lk)("label",{for:"usuario"},"Usuário:",-1),ko={class:"campo-cadastro"},ho=(0,e.Lk)("label",{for:"dataEmprestimo"},"Data de Empréstimo:",-1),fo=(0,e.Lk)("button",{class:"botao-padrao",type:"submit"},"Cadastrar",-1);function yo(o,r,a,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[so,(0,e.Lk)("table",null,[lo,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(o.emprestimosFiltrados,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.livro),1),(0,e.Lk)("td",null,(0,E.v_)(o.usuario),1),(0,e.Lk)("td",null,(0,E.v_)(o.dataEmprestimo),1),(0,e.Lk)("td",null,[(0,e.Lk)("button",{onClick:r=>l.devolverEmprestimo(o.id)},"Devolver",8,no)])])))),128))])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:r[0]||(r[0]=(...o)=>l.abrirModal&&l.abrirModal(...o))},"+"),s.modalAberta?((0,e.uX)(),(0,e.CE)("div",uo,[(0,e.Lk)("div",co,[(0,e.Lk)("span",{class:"close",onClick:r[1]||(r[1]=(...o)=>l.fecharModal&&l.fecharModal(...o))},"×"),mo,(0,e.Lk)("form",{onSubmit:r[5]||(r[5]=(0,t.D$)(((...o)=>l.cadastrarEmprestimo&&l.cadastrarEmprestimo(...o)),["prevent"]))},[(0,e.Lk)("div",vo,[po,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=o=>s.novoEmprestimo.livro=o),required:""},null,512),[[t.Jo,s.novoEmprestimo.livro]])]),(0,e.Lk)("div",Lo,[bo,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=o=>s.novoEmprestimo.usuario=o),required:""},null,512),[[t.Jo,s.novoEmprestimo.usuario]])]),(0,e.Lk)("div",ko,[ho,(0,e.bo)((0,e.Lk)("input",{type:"date","onUpdate:modelValue":r[4]||(r[4]=o=>s.novoEmprestimo.dataEmprestimo=o),required:""},null,512),[[t.Jo,s.novoEmprestimo.dataEmprestimo]])]),fo],32)])])):(0,e.Q3)("",!0)])}const Eo="http://localhost:5000/api/emprestimos";var Ao={obterTodos(){return F.A.get(Eo)},cadastrar(o){return F.A.post(Eo,o)},devolver(o){return F.A.put(`${Eo}/${o}/devolver`)}},go={data(){return{emprestimos:[],modalAberta:!1,novoEmprestimo:{livro:"",usuario:"",dataEmprestimo:""}}},async mounted(){await this.carregarEmprestimos()},methods:{async carregarEmprestimos(){try{const o=await Ao.obterTodos();this.emprestimos=o.data}catch(o){console.error("Erro ao carregar empréstimos:",o)}},async cadastrarEmprestimo(){try{await Ao.cadastrar(this.novoEmprestimo),this.fecharModal(),this.novoEmprestimo={livro:"",usuario:"",dataEmprestimo:""},await this.carregarEmprestimos()}catch(o){console.error("Erro ao cadastrar empréstimo:",o)}},abrirModal(){this.modalAberta=!0},fecharModal(){this.modalAberta=!1},async devolverEmprestimo(o){try{await Ao.devolver(o),await this.carregarEmprestimos()}catch(r){console.error("Erro ao devolver empréstimo:",r)}}}};const Uo=(0,v.A)(go,[["render",yo]]);var Co=Uo;const wo=[{path:"/",name:"LivrosList",component:I},{path:"/usuarios",name:"UsuariosList",component:io},{path:"/emprestimos",name:"EmprestimosList",component:Co}],Mo=(0,y.aE)({history:(0,y.LA)(),routes:wo});var To=Mo;(0,t.Ef)(f).use(To).mount("#app")}},r={};function a(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return o[t](i,i.exports,a),i.exports}a.m=o,function(){var o=[];a.O=function(r,t,e,i){if(!t){var s=1/0;for(d=0;d<o.length;d++){t=o[d][0],e=o[d][1],i=o[d][2];for(var l=!0,n=0;n<t.length;n++)(!1&i||s>=i)&&Object.keys(a.O).every((function(o){return a.O[o](t[n])}))?t.splice(n--,1):(l=!1,i<s&&(s=i));if(l){o.splice(d--,1);var u=e();void 0!==u&&(r=u)}}return r}i=i||0;for(var d=o.length;d>0&&o[d-1][2]>i;d--)o[d]=o[d-1];o[d]=[t,e,i]}}(),function(){a.d=function(o,r){for(var t in r)a.o(r,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)}}(),function(){a.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var o={524:0};a.O.j=function(r){return 0===o[r]};var r=function(r,t){var e,i,s=t[0],l=t[1],n=t[2],u=0;if(s.some((function(r){return 0!==o[r]}))){for(e in l)a.o(l,e)&&(a.m[e]=l[e]);if(n)var d=n(a)}for(r&&r(t);u<s.length;u++)i=s[u],a.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return a.O(d)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(119)}));t=a.O(t)})();
//# sourceMappingURL=app.f2d278d7.js.map