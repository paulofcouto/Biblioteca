(function(){"use strict";var o={102:function(o,a,r){var t=r(751),e=r(641);const i={id:"app"};function s(o,a,r,t,s,l){const n=(0,e.g2)("MenuSuperior"),u=(0,e.g2)("router-view");return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.bF)(n),(0,e.bF)(u)])}var l=r.p+"img/logo.9a921d55.png";const n=o=>((0,e.Qi)("data-v-1c69dc69"),o=o(),(0,e.jt)(),o),u={class:"menu-superior"},c=n((()=>(0,e.Lk)("div",{class:"logo"},[(0,e.Lk)("img",{src:l,alt:"Logo"})],-1))),d={class:"menu-links"};function v(o,a){const r=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("nav",u,[c,(0,e.Lk)("div",d,[(0,e.bF)(r,{to:"/",exact:""},{default:(0,e.k6)((()=>[(0,e.eW)("Livros")])),_:1}),(0,e.bF)(r,{to:"/usuarios"},{default:(0,e.k6)((()=>[(0,e.eW)("Usuários")])),_:1}),(0,e.bF)(r,{to:"/emprestimos"},{default:(0,e.k6)((()=>[(0,e.eW)("Empréstimos")])),_:1})])])}var m=r(262);const p={},L=(0,m.A)(p,[["render",v],["__scopeId","data-v-1c69dc69"]]);var k=L,b={name:"App",components:{MenuSuperior:k}};const h=(0,m.A)(b,[["render",s]]);var f=h,y=r(166),E=r(33);const g=(0,e.Lk)("h1",null,"Lista de Livros",-1),C=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Título"),(0,e.Lk)("th",null,"Autor"),(0,e.Lk)("th",null,"ISBN"),(0,e.Lk)("th",null,"Ano de Publicação"),(0,e.Lk)("th",null,"Ações")])],-1),U=["onClick"],A=["onClick"],w={key:0,class:"modal"},D={class:"conteudo-modal"},M=(0,e.Lk)("h3",null,"Cadastrar Livro",-1),T={class:"campo-cadastro"},X=(0,e.Lk)("label",{for:"titulo"},"Título:",-1),O={class:"campo-cadastro"},_=(0,e.Lk)("label",{for:"autor"},"Autor:",-1),P={class:"campo-cadastro"},S=(0,e.Lk)("label",{for:"isbn"},"ISBN:",-1),F={class:"campo-cadastro"},j=(0,e.Lk)("label",{for:"anoDePublicacao"},"Ano de Publicação:",-1),q=(0,e.Lk)("button",{class:"botao-padrao",type:"submit"},"Cadastrar",-1);function I(o,a,r,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[g,(0,e.Lk)("div",null,[(0,e.Lk)("table",null,[C,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.livros,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.titulo),1),(0,e.Lk)("td",null,(0,E.v_)(o.autor),1),(0,e.Lk)("td",null,(0,E.v_)(o.isbn),1),(0,e.Lk)("td",null,(0,E.v_)(o.anoDePublicacao),1),(0,e.Lk)("td",null,[(0,e.Lk)("i",{class:"fas fa-trash-alt",onClick:a=>l.deletarLivro(o.id)},null,8,U)]),(0,e.Lk)("td",null,[(0,e.Lk)("button",{onClick:a=>l.deletarLivro(o.id)},"Deletar",8,A)])])))),128))])])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:a[0]||(a[0]=(...o)=>l.abrirModal&&l.abrirModal(...o))},"+"),s.modalAberta?((0,e.uX)(),(0,e.CE)("div",w,[(0,e.Lk)("div",D,[(0,e.Lk)("div",{class:"close",onClick:a[1]||(a[1]=(...o)=>l.fecharModal&&l.fecharModal(...o))},"×"),M,(0,e.Lk)("form",{onSubmit:a[6]||(a[6]=(0,t.D$)(((...o)=>l.cadastrarLivro&&l.cadastrarLivro(...o)),["prevent"]))},[(0,e.Lk)("div",T,[X,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=o=>s.novoLivro.titulo=o),required:""},null,512),[[t.Jo,s.novoLivro.titulo]])]),(0,e.Lk)("div",O,[_,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=o=>s.novoLivro.autor=o),required:""},null,512),[[t.Jo,s.novoLivro.autor]])]),(0,e.Lk)("div",P,[S,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=o=>s.novoLivro.isbn=o),required:""},null,512),[[t.Jo,s.novoLivro.isbn]])]),(0,e.Lk)("div",F,[j,(0,e.bo)((0,e.Lk)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=o=>s.novoLivro.anoDePublicacao=o),required:""},null,512),[[t.Jo,s.novoLivro.anoDePublicacao]])]),q],32)])])):(0,e.Q3)("",!0)])}var x=r(335);const V=x.A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},withCredentials:!0});var $=V,J={obterTodos(o=""){return $.get("/livros"+(o?`?query=${o}`:""))},obterPorId(o){return $.get(`/livros/${o}`)},cadastrar(o){return $.post("/livros",o)},deletar(o){return $.delete(`/livros/${o}`)}},K={data(){return{livros:[],modalAberta:!1,novoLivro:{titulo:"",autor:"",isbn:"",anoDePublicacao:0}}},async mounted(){await this.carregarLivros()},methods:{async carregarLivros(){try{const o=await J.obterTodos();o.data&&Array.isArray(o.data)?this.livros=o.data.filter((o=>o&&o.id)):console.error("Formato de dados inesperado:",o.data)}catch(o){console.error("Erro ao carregar livros:",o)}},async deletarLivro(o){try{await J.deletar(o),await this.carregarLivros()}catch(a){console.error("Erro ao deletar livro:",a)}},abrirModal(){this.modalAberta=!0},fecharModal(){this.modalAberta=!1},async cadastrarLivro(){try{await J.cadastrar(this.novoLivro),this.fecharModal(),this.novoLivro={titulo:"",autor:"",isbn:"",anoDePublicacao:0},await this.carregarLivros()}catch(o){console.error("Erro ao cadastrar livro:",o)}}}};const N=(0,m.A)(K,[["render",I]]);var Q=N;const W=(0,e.Lk)("h1",null,"Lista de Usuários",-1),B={class:"conteudo-tabela"},H=(0,e.Lk)("thead",{class:"cabecalho-tabela"},[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Nome"),(0,e.Lk)("th",null,"Email")])],-1),R={key:0,class:"modal"},G={class:"conteudo-modal"},z=(0,e.Lk)("h3",null,"Cadastrar Usuário",-1),Y={class:"campo-cadastro"},Z=(0,e.Lk)("label",{for:"nome"},"Nome:",-1),oo={class:"campo-cadastro"},ao=(0,e.Lk)("label",{for:"email"},"Email:",-1),ro=(0,e.Lk)("button",{class:"botao-padrao",type:"submit"},"Cadastrar",-1);function to(o,a,r,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[W,(0,e.Lk)("div",B,[(0,e.Lk)("table",null,[H,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.usuarios,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.nome),1),(0,e.Lk)("td",null,(0,E.v_)(o.email),1)])))),128))])])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:a[0]||(a[0]=(...o)=>l.abrirModalUsuario&&l.abrirModalUsuario(...o))},"+"),s.modalUsuarioAberta?((0,e.uX)(),(0,e.CE)("div",R,[(0,e.Lk)("div",G,[(0,e.Lk)("span",{class:"close",onClick:a[1]||(a[1]=(...o)=>l.fecharModalUsuario&&l.fecharModalUsuario(...o))},"×"),z,(0,e.Lk)("form",{onSubmit:a[4]||(a[4]=(0,t.D$)(((...o)=>l.cadastrarUsuario&&l.cadastrarUsuario(...o)),["prevent"]))},[(0,e.Lk)("div",Y,[Z,(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=o=>s.novoUsuario.nome=o),required:""},null,512),[[t.Jo,s.novoUsuario.nome]])]),(0,e.Lk)("div",oo,[ao,(0,e.bo)((0,e.Lk)("input",{type:"email","onUpdate:modelValue":a[3]||(a[3]=o=>s.novoUsuario.email=o),required:""},null,512),[[t.Jo,s.novoUsuario.email]])]),ro],32)])])):(0,e.Q3)("",!0)])}const eo="http://localhost:5000/api/usuarios",io={obterTodos(){return x.A.get(eo)},cadastrar(o){return x.A.post(eo,o)}};var so=io,lo={data(){return{usuarios:[],modalUsuarioAberta:!1,novoUsuario:{nome:"",email:""}}},async mounted(){await this.carregarUsuarios()},methods:{async carregarUsuarios(){try{const o=await so.obterTodos();o.data&&Array.isArray(o.data)?this.usuarios=o.data.filter((o=>o&&o.id)):console.error("Formato de dados inesperado:",o.data)}catch(o){console.error("Erro ao carregar usuários:",o)}},abrirModalUsuario(){this.modalUsuarioAberta=!0},fecharModalUsuario(){this.modalUsuarioAberta=!1},async cadastrarUsuario(){try{await so.cadastrar(this.novoUsuario),this.fecharModalUsuario(),this.novoUsuario={nome:"",email:""},await this.carregarUsuarios()}catch(o){console.error("Erro ao cadastrar usuário:",o)}}}};const no=(0,m.A)(lo,[["render",to]]);var uo=no;const co=(0,e.Lk)("h1",null,"Empréstimos",-1),vo=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"Livro"),(0,e.Lk)("th",null,"Usuário"),(0,e.Lk)("th",null,"Data de Devolução"),(0,e.Lk)("th",null,"Ações")])],-1),mo=["onClick"],po={key:0,class:"modal"},Lo={class:"conteudo-modal"},ko=(0,e.Lk)("h3",null,"Cadastrar Empréstimo",-1),bo={class:"campo-cadastro"},ho=(0,e.Lk)("label",{for:"livro"},"Livro:",-1),fo=["value"],yo={class:"campo-cadastro"},Eo=(0,e.Lk)("label",{for:"usuario"},"Usuário:",-1),go=["value"],Co={class:"campo-cadastro"},Uo=(0,e.Lk)("label",{for:"DataDeDevolucaoLimite"},"Data de Empréstimo:",-1),Ao=(0,e.Lk)("button",{class:"botao-padrao",type:"submit"},"Cadastrar",-1);function wo(o,a,r,i,s,l){return(0,e.uX)(),(0,e.CE)("div",null,[co,(0,e.Lk)("table",null,[vo,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.emprestimos,(o=>((0,e.uX)(),(0,e.CE)("tr",{key:o.id},[(0,e.Lk)("td",null,(0,E.v_)(o.tituloLivro),1),(0,e.Lk)("td",null,(0,E.v_)(o.nomeUsuario),1),(0,e.Lk)("td",null,(0,E.v_)(o.dataDeDevolucaoLimite),1),(0,e.Lk)("td",null,[(0,e.Lk)("button",{onClick:a=>l.devolverEmprestimo(o.id)},"Devolver",8,mo)])])))),128))])]),(0,e.Lk)("button",{class:"botao-adicionar",onClick:a[0]||(a[0]=(...o)=>l.abrirModal&&l.abrirModal(...o))},"+"),s.modalAberta?((0,e.uX)(),(0,e.CE)("div",po,[(0,e.Lk)("div",Lo,[(0,e.Lk)("span",{class:"close",onClick:a[1]||(a[1]=(...o)=>l.fecharModal&&l.fecharModal(...o))},"×"),ko,(0,e.Lk)("form",{onSubmit:a[5]||(a[5]=(0,t.D$)(((...o)=>l.cadastrarEmprestimo&&l.cadastrarEmprestimo(...o)),["prevent"]))},[(0,e.Lk)("div",bo,[ho,(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>s.novoEmprestimo.livro=o),required:""},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.livros,(o=>((0,e.uX)(),(0,e.CE)("option",{key:o.id,value:o.id},(0,E.v_)(o.titulo),9,fo)))),128))],512),[[t.u1,s.novoEmprestimo.livro]])]),(0,e.Lk)("div",yo,[Eo,(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.novoEmprestimo.usuario=o),required:""},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.usuarios,(o=>((0,e.uX)(),(0,e.CE)("option",{key:o.id,value:o.id},(0,E.v_)(o.nome),9,go)))),128))],512),[[t.u1,s.novoEmprestimo.usuario]])]),(0,e.Lk)("div",Co,[Uo,(0,e.bo)((0,e.Lk)("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=o=>s.novoEmprestimo.DataDeDevolucaoLimite=o)},null,512),[[t.Jo,s.novoEmprestimo.DataDeDevolucaoLimite]])]),Ao],32)])])):(0,e.Q3)("",!0)])}const Do="http://localhost:5000/api/emprestimos";var Mo={obterTodos(){return x.A.get(Do)},cadastrar(o){return x.A.post(Do,o)},devolver(o){return x.A.put(`${Do}/${o}/devolver`)}},To={data(){return{emprestimos:[],usuarios:[],livros:[],modalAberta:!1,novoEmprestimo:{tituloLivro:"",nomeUsuario:"",DataDeDevolucaoLimite:""}}},async mounted(){await this.carregarEmprestimos(),await this.carregarUsuarios(),await this.carregarLivros()},methods:{async carregarEmprestimos(){try{const o=await Mo.obterTodos();console.log(o.data),this.emprestimos=o.data||[]}catch(o){console.error("Erro ao carregar empréstimos:",o)}},async carregarUsuarios(){try{const o=await so.obterTodos();this.usuarios=o.data||[]}catch(o){console.error("Erro ao carregar usuários:",o)}},async carregarLivros(){try{const o=await J.obterTodos();this.livros=o.data||[]}catch(o){console.error("Erro ao carregar livros:",o)}},async cadastrarEmprestimo(){try{await Mo.cadastrar(this.novoEmprestimo),this.fecharModal(),this.novoEmprestimo={livro:"",usuario:"",DataDeDevolucaoLimite:""},await this.carregarEmprestimos()}catch(o){console.error("Erro ao cadastrar empréstimo:",o)}},abrirModal(){this.modalAberta=!0},fecharModal(){this.modalAberta=!1},async devolverEmprestimo(o){try{await Mo.devolver(o),await this.carregarEmprestimos()}catch(a){console.error("Erro ao devolver empréstimo:",a)}}}};const Xo=(0,m.A)(To,[["render",wo]]);var Oo=Xo;const _o=[{path:"/",name:"LivrosList",component:Q},{path:"/usuarios",name:"UsuariosList",component:uo},{path:"/emprestimos",name:"EmprestimosList",component:Oo}],Po=(0,y.aE)({history:(0,y.LA)(),routes:_o});var So=Po;r(44);(0,t.Ef)(f).use(So).mount("#app")}},a={};function r(t){var e=a[t];if(void 0!==e)return e.exports;var i=a[t]={exports:{}};return o[t](i,i.exports,r),i.exports}r.m=o,function(){var o=[];r.O=function(a,t,e,i){if(!t){var s=1/0;for(c=0;c<o.length;c++){t=o[c][0],e=o[c][1],i=o[c][2];for(var l=!0,n=0;n<t.length;n++)(!1&i||s>=i)&&Object.keys(r.O).every((function(o){return r.O[o](t[n])}))?t.splice(n--,1):(l=!1,i<s&&(s=i));if(l){o.splice(c--,1);var u=e();void 0!==u&&(a=u)}}return a}i=i||0;for(var c=o.length;c>0&&o[c-1][2]>i;c--)o[c]=o[c-1];o[c]=[t,e,i]}}(),function(){r.d=function(o,a){for(var t in a)r.o(a,t)&&!r.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:a[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){r.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var o={524:0};r.O.j=function(a){return 0===o[a]};var a=function(a,t){var e,i,s=t[0],l=t[1],n=t[2],u=0;if(s.some((function(a){return 0!==o[a]}))){for(e in l)r.o(l,e)&&(r.m[e]=l[e]);if(n)var c=n(r)}for(a&&a(t);u<s.length;u++)i=s[u],r.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return r.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=r.O(void 0,[504],(function(){return r(102)}));t=r.O(t)})();
//# sourceMappingURL=app.c0e920d2.js.map